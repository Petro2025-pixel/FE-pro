<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework18_1</title>
    <link rel="stylesheet" href="./style18_1.css" />
  </head>
  <body>
    <div class="container wrapper">
      <h1>Таймер відліку</h1>
      <div id="clock">01:25</div>
      <button id="start" class="button_start">Start</button>
      <button id="stop" class="button_stop">Stop</button>
    </div>
    <script>
      class Timer {
        constructor(targetElementId, initialMinutes, initialSeconds) {
          this.element = document.getElementById(targetElementId);
          this.isRunning = false;
          this.intervalId = null;
          this.timeRemaining = (initialMinutes * 60 + initialSeconds) * 1000;
          this.updateClockDisplay();
        }
        updateClockDisplay() {
          const totalSeconds = Math.floor(this.timeRemaining / 1000);
          const minutes = Math.floor(totalSeconds / 60)
            .toString()
            .padStart(2, "0");
          const seconds = (totalSeconds % 60).toString().padStart(2, "0");

          this.element.textContent = `${minutes}:${seconds}`;
        }

        tick = () => {
          if (this.timeRemaining < 1000) {
            this.stop();
            this.element.textContent = "00:00";
            return;
          }

          this.timeRemaining = this.timeRemaining - 1000;
          this.updateClockDisplay();
        };

        start = () => {
          if (!this.isRunning) {
            this.isRunning = true;
            this.intervalId = setInterval(this.tick, 1000);
          }
        };

        stop = () => {
          if (this.isRunning) {
            this.isRunning = false;
            clearInterval(this.intervalId);
          }
        };
      }

      const initialMinutes = 1;
      const initialSeconds = 25;
      const myClock = new Timer("clock", initialMinutes, initialSeconds);

      document.getElementById("start").addEventListener("click", myClock.start);
      document.getElementById("stop").addEventListener("click", myClock.stop);
    </script>
  </body>
</html>
